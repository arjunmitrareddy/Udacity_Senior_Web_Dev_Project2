{"version":3,"names":[],"mappings":"","sources":["promise.js"],"sourcesContent":["!function t(n,e,r){function o(s,u){if(!e[s]){if(!n[s]){var c=\"function\"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var f=new Error(\"Cannot find module '\"+s+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var a=e[s]={exports:{}};n[s][0].call(a.exports,function(t){var e=n[s][1][t];return o(e?e:t)},a,a.exports,t,n,e,r)}return e[s].exports}for(var i=\"function\"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n,e){function r(){h&&a&&(h=!1,a.length?l=a.concat(l):p=-1,l.length&&o())}function o(){if(!h){var t=u(r);h=!0;for(var n=l.length;n;){for(a=l,l=[];++p<n;)a&&a[p].run();p=-1,n=l.length}a=null,h=!1,c(t)}}function i(t,n){this.fun=t,this.array=n}function s(){}var u,c,f=n.exports={};!function(){try{u=setTimeout}catch(t){u=function(){throw new Error(\"setTimeout is not defined\")}}try{c=clearTimeout}catch(t){c=function(){throw new Error(\"clearTimeout is not defined\")}}}();var a,l=[],h=!1,p=-1;f.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.push(new i(t,n)),1!==l.length||h||u(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},f.title=\"browser\",f.browser=!0,f.env={},f.argv=[],f.version=\"\",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(t){throw new Error(\"process.binding is not supported\")},f.cwd=function(){return\"/\"},f.chdir=function(t){throw new Error(\"process.chdir is not supported\")},f.umask=function(){return 0}},{}],2:[function(t,n,e){(function(e,r){(function(){\"use strict\";function o(t){return\"function\"==typeof t||\"object\"==typeof t&&null!==t}function i(t){return\"function\"==typeof t}function s(t){Q=t}function u(t){Z=t}function c(){return function(){e.nextTick(p)}}function f(){return function(){J(p)}}function a(){var t=0,n=new nt(p),e=document.createTextNode(\"\");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=p,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(p,1)}}function p(){for(var t=0;t<X;t+=2){var n=ot[t],e=ot[t+1];n(e),ot[t]=void 0,ot[t+1]=void 0}X=0}function d(){try{var n=t,e=n(\"vertx\");return J=e.runOnLoop||e.runOnContext,f()}catch(r){return h()}}function v(t,n){var e=this,r=new this.constructor(y);void 0===r[ut]&&F(r);var o=e._state;if(o){var i=arguments[o-1];Z(function(){L(o,r,i,e._result)})}else M(e,r,t,n);return r}function _(t){var n=this;if(t&&\"object\"==typeof t&&t.constructor===n)return t;var e=new n(y);return x(e,t),e}function y(){}function w(){return new TypeError(\"You cannot resolve a promise with itself\")}function m(){return new TypeError(\"A promises callback cannot return that same promise.\")}function g(t){try{return t.then}catch(n){return lt.error=n,lt}}function b(t,n,e,r){try{t.call(n,e,r)}catch(o){return o}}function A(t,n,e){Z(function(t){var r=!1,o=b(e,n,function(e){r||(r=!0,n!==e?x(t,e):j(t,e))},function(n){r||(r=!0,O(t,n))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&o&&(r=!0,O(t,o))},t)}function E(t,n){n._state===ft?j(t,n._result):n._state===at?O(t,n._result):M(n,void 0,function(n){x(t,n)},function(n){O(t,n)})}function T(t,n,e){n.constructor===t.constructor&&e===it&&constructor.resolve===st?E(t,n):e===lt?O(t,lt.error):void 0===e?j(t,n):i(e)?A(t,n,e):j(t,n)}function x(t,n){t===n?O(t,w()):o(n)?T(t,n,g(n)):j(t,n)}function S(t){t._onerror&&t._onerror(t._result),C(t)}function j(t,n){t._state===ct&&(t._result=n,t._state=ft,0!==t._subscribers.length&&Z(C,t))}function O(t,n){t._state===ct&&(t._state=at,t._result=n,Z(S,t))}function M(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+ft]=e,o[i+at]=r,0===i&&t._state&&Z(C,t)}function C(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r,o,i=t._result,s=0;s<n.length;s+=3)r=n[s],o=n[s+e],r?L(e,r,o,i):o(i);t._subscribers.length=0}}function P(){this.error=null}function k(t,n){try{return t(n)}catch(e){return ht.error=e,ht}}function L(t,n,e,r){var o,s,u,c,f=i(e);if(f){if(o=k(e,r),o===ht?(c=!0,s=o.error,o=null):u=!0,n===o)return void O(n,m())}else o=r,u=!0;n._state!==ct||(f&&u?x(n,o):c?O(n,s):t===ft?j(n,o):t===at&&O(n,o))}function q(t,n){try{n(function(n){x(t,n)},function(n){O(t,n)})}catch(e){O(t,e)}}function D(){return pt++}function F(t){t[ut]=pt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function N(t){return new wt(this,t).promise}function U(t){var n=this;return new n(V(t)?function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)}:function(t,n){n(new TypeError(\"You must pass an array to race.\"))})}function Y(t){var n=this,e=new n(y);return O(e,t),e}function K(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function W(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function z(t){this[ut]=D(),this._result=this._state=void 0,this._subscribers=[],y!==t&&(\"function\"!=typeof t&&K(),this instanceof z?q(this,t):W())}function B(t,n){this._instanceConstructor=t,this.promise=new t(y),this.promise[ut]||F(this.promise),V(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&j(this.promise,this._result))):O(this.promise,G())}function G(){return new Error(\"Array Methods must be provided an Array\")}function H(){var t;if(\"undefined\"!=typeof r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(n){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;e&&\"[object Promise]\"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=yt)}var I;I=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var J,Q,R,V=I,X=0,Z=function(t,n){ot[X]=t,ot[X+1]=n,X+=2,2===X&&(Q?Q(p):R())},$=\"undefined\"!=typeof window?window:void 0,tt=$||{},nt=tt.MutationObserver||tt.WebKitMutationObserver,et=\"undefined\"==typeof self&&\"undefined\"!=typeof e&&\"[object process]\"==={}.toString.call(e),rt=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,ot=new Array(1e3);R=et?c():nt?a():rt?l():void 0===$&&\"function\"==typeof t?d():h();var it=v,st=_,ut=Math.random().toString(36).substring(16),ct=void 0,ft=1,at=2,lt=new P,ht=new P,pt=0,dt=N,vt=U,_t=Y,yt=z;z.all=dt,z.race=vt,z.resolve=st,z.reject=_t,z._setScheduler=s,z._setAsap=u,z._asap=Z,z.prototype={constructor:z,then:it,\"catch\":function(t){return this.then(null,t)}};var wt=B;B.prototype._enumerate=function(){for(var t=this.length,n=this._input,e=0;this._state===ct&&e<t;e++)this._eachEntry(n[e],e)},B.prototype._eachEntry=function(t,n){var e=this._instanceConstructor,r=e.resolve;if(r===st){var o=g(t);if(o===it&&t._state!==ct)this._settledAt(t._state,n,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[n]=t;else if(e===yt){var i=new e(y);T(i,t,o),this._willSettleAt(i,n)}else this._willSettleAt(new e(function(n){n(t)}),n)}else this._willSettleAt(r(t),n)},B.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===ct&&(this._remaining--,t===at?O(r,e):this._result[n]=e),0===this._remaining&&j(r,this._result)},B.prototype._willSettleAt=function(t,n){var e=this;M(t,void 0,function(t){e._settledAt(ft,n,t)},function(t){e._settledAt(at,n,t)})};var mt=H,gt={Promise:yt,polyfill:mt};\"function\"==typeof define&&define.amd?define(function(){return gt}):\"undefined\"!=typeof n&&n.exports?n.exports=gt:\"undefined\"!=typeof this&&(this.ES6Promise=gt),mt()}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:1}],3:[function(t,n,e){\"use strict\";t(\"es6-promise\").polyfill()},{\"es6-promise\":2}]},{},[3]);"],"file":"promise.js","sourceRoot":"/source/"}