{"version":3,"names":[],"mappings":"","sources":["url.js"],"sourcesContent":["!function t(e,s,i){function a(h,n){if(!s[h]){if(!e[h]){var o=\"function\"==typeof require&&require;if(!n&&o)return o(h,!0);if(r)return r(h,!0);var l=new Error(\"Cannot find module '\"+h+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=s[h]={exports:{}};e[h][0].call(c.exports,function(t){var s=e[h][1][t];return a(s?s:t)},c,c.exports,t,e,s,i)}return s[h].exports}for(var r=\"function\"==typeof require&&require,h=0;h<i.length;h++)a(i[h]);return a}({1:[function(t,e,s){\"use strict\";!function(t){function e(t){return void 0!==_[t]}function s(){n.call(this),this._isInvalid=!0}function i(t){return\"\"==t&&s.call(this),t.toLowerCase()}function a(t){var e=t.charCodeAt(0);return e>32&&e<127&&[34,35,60,62,63,96].indexOf(e)==-1?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return e>32&&e<127&&[34,35,60,62,96].indexOf(e)==-1?t:encodeURIComponent(t)}function h(t,h,n){function o(t){b.push(t)}var l=h||\"scheme start\",c=0,u=\"\",d=!1,g=!1,b=[];t:for(;(t[c-1]!=p||0==c)&&!this._isInvalid;){var y=t[c];switch(l){case\"scheme start\":if(!y||!m.test(y)){if(h){o(\"Invalid scheme.\");break t}u=\"\",l=\"no scheme\";continue}u+=y.toLowerCase(),l=\"scheme\";break;case\"scheme\":if(y&&v.test(y))u+=y.toLowerCase();else{if(\":\"!=y){if(h){if(p==y)break t;o(\"Code point not allowed in scheme: \"+y);break t}u=\"\",c=0,l=\"no scheme\";continue}if(this._scheme=u,u=\"\",h)break t;e(this._scheme)&&(this._isRelative=!0),l=\"file\"==this._scheme?\"relative\":this._isRelative&&n&&n._scheme==this._scheme?\"relative or authority\":this._isRelative?\"authority first slash\":\"scheme data\"}break;case\"scheme data\":\"?\"==y?(query=\"?\",l=\"query\"):\"#\"==y?(this._fragment=\"#\",l=\"fragment\"):p!=y&&\"\\t\"!=y&&\"\\n\"!=y&&\"\\r\"!=y&&(this._schemeData+=a(y));break;case\"no scheme\":if(n&&e(n._scheme)){l=\"relative\";continue}o(\"Missing scheme.\"),s.call(this);break;case\"relative or authority\":if(\"/\"!=y||\"/\"!=t[c+1]){o(\"Expected /, got: \"+y),l=\"relative\";continue}l=\"authority ignore slashes\";break;case\"relative\":if(this._isRelative=!0,\"file\"!=this._scheme&&(this._scheme=n._scheme),p==y){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break t}if(\"/\"==y||\"\\\\\"==y)\"\\\\\"==y&&o(\"\\\\ is an invalid code point.\"),l=\"relative slash\";else if(\"?\"==y)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=\"?\",this._username=n._username,this._password=n._password,l=\"query\";else{if(\"#\"!=y){var w=t[c+1],k=t[c+2];(\"file\"!=this._scheme||!m.test(y)||\":\"!=w&&\"|\"!=w||p!=k&&\"/\"!=k&&\"\\\\\"!=k&&\"?\"!=k&&\"#\"!=k)&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop()),l=\"relative path\";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment=\"#\",this._username=n._username,this._password=n._password,l=\"fragment\"}break;case\"relative slash\":if(\"/\"!=y&&\"\\\\\"!=y){\"file\"!=this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),l=\"relative path\";continue}\"\\\\\"==y&&o(\"\\\\ is an invalid code point.\"),l=\"file\"==this._scheme?\"file host\":\"authority ignore slashes\";break;case\"authority first slash\":if(\"/\"!=y){o(\"Expected '/', got: \"+y),l=\"authority ignore slashes\";continue}l=\"authority second slash\";break;case\"authority second slash\":if(l=\"authority ignore slashes\",\"/\"!=y){o(\"Expected '/', got: \"+y);continue}break;case\"authority ignore slashes\":if(\"/\"!=y&&\"\\\\\"!=y){l=\"authority\";continue}o(\"Expected authority, got: \"+y);break;case\"authority\":if(\"@\"==y){d&&(o(\"@ already seen.\"),u+=\"%40\"),d=!0;for(var I=0;I<u.length;I++){var q=u[I];if(\"\\t\"!=q&&\"\\n\"!=q&&\"\\r\"!=q)if(\":\"!=q||null!==this._password){var R=a(q);null!==this._password?this._password+=R:this._username+=R}else this._password=\"\";else o(\"Invalid whitespace in authority.\")}u=\"\"}else{if(p==y||\"/\"==y||\"\\\\\"==y||\"?\"==y||\"#\"==y){c-=u.length,u=\"\",l=\"host\";continue}u+=y}break;case\"file host\":if(p==y||\"/\"==y||\"\\\\\"==y||\"?\"==y||\"#\"==y){2!=u.length||!m.test(u[0])||\":\"!=u[1]&&\"|\"!=u[1]?0==u.length?l=\"relative path start\":(this._host=i.call(this,u),u=\"\",l=\"relative path start\"):l=\"relative path\";continue}\"\\t\"==y||\"\\n\"==y||\"\\r\"==y?o(\"Invalid whitespace in file host.\"):u+=y;break;case\"host\":case\"hostname\":if(\":\"!=y||g){if(p==y||\"/\"==y||\"\\\\\"==y||\"?\"==y||\"#\"==y){if(this._host=i.call(this,u),u=\"\",l=\"relative path start\",h)break t;continue}\"\\t\"!=y&&\"\\n\"!=y&&\"\\r\"!=y?(\"[\"==y?g=!0:\"]\"==y&&(g=!1),u+=y):o(\"Invalid code point in host/hostname: \"+y)}else if(this._host=i.call(this,u),u=\"\",l=\"port\",\"hostname\"==h)break t;break;case\"port\":if(/[0-9]/.test(y))u+=y;else{if(p==y||\"/\"==y||\"\\\\\"==y||\"?\"==y||\"#\"==y||h){if(\"\"!=u){var L=parseInt(u,10);L!=_[this._scheme]&&(this._port=L+\"\"),u=\"\"}if(h)break t;l=\"relative path start\";continue}\"\\t\"==y||\"\\n\"==y||\"\\r\"==y?o(\"Invalid code point in port: \"+y):s.call(this)}break;case\"relative path start\":if(\"\\\\\"==y&&o(\"'\\\\' not allowed in path.\"),l=\"relative path\",\"/\"!=y&&\"\\\\\"!=y)continue;break;case\"relative path\":if(p!=y&&\"/\"!=y&&\"\\\\\"!=y&&(h||\"?\"!=y&&\"#\"!=y))\"\\t\"!=y&&\"\\n\"!=y&&\"\\r\"!=y&&(u+=a(y));else{\"\\\\\"==y&&o(\"\\\\ not allowed in relative path.\");var O;(O=f[u.toLowerCase()])&&(u=O),\"..\"==u?(this._path.pop(),\"/\"!=y&&\"\\\\\"!=y&&this._path.push(\"\")):\".\"==u&&\"/\"!=y&&\"\\\\\"!=y?this._path.push(\"\"):\".\"!=u&&(\"file\"==this._scheme&&0==this._path.length&&2==u.length&&m.test(u[0])&&\"|\"==u[1]&&(u=u[0]+\":\"),this._path.push(u)),u=\"\",\"?\"==y?(this._query=\"?\",l=\"query\"):\"#\"==y&&(this._fragment=\"#\",l=\"fragment\")}break;case\"query\":h||\"#\"!=y?p!=y&&\"\\t\"!=y&&\"\\n\"!=y&&\"\\r\"!=y&&(this._query+=r(y)):(this._fragment=\"#\",l=\"fragment\");break;case\"fragment\":p!=y&&\"\\t\"!=y&&\"\\n\"!=y&&\"\\r\"!=y&&(this._fragment+=y)}c++}}function n(){this._scheme=\"\",this._schemeData=\"\",this._username=\"\",this._password=null,this._host=\"\",this._port=\"\",this._path=[],this._query=\"\",this._fragment=\"\",this._isInvalid=!1,this._isRelative=!1}function o(t,e){void 0===e||e instanceof o||(e=new o(String(e))),this._url=t,n.call(this);var s=t.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g,\"\");h.call(this,s,null,e)}var l=!1;if(!t.forceJURL)try{var c=new URL(\"b\",\"http://a\");c.pathname=\"c%20d\",l=\"http://a/c%20d\"===c.href}catch(u){}if(!l){var _=Object.create(null);_.ftp=21,_.file=0,_.gopher=70,_.http=80,_.https=443,_.ws=80,_.wss=443;var f=Object.create(null);f[\"%2e\"]=\".\",f[\".%2e\"]=\"..\",f[\"%2e.\"]=\"..\",f[\"%2e%2e\"]=\"..\";var p=void 0,m=/[a-zA-Z]/,v=/[a-zA-Z0-9\\+\\-\\.]/;o.prototype=Object.defineProperties({toString:function(){return this.href}},{href:{get:function(){if(this._isInvalid)return this._url;var t=\"\";return\"\"==this._username&&null==this._password||(t=this._username+(null!=this._password?\":\"+this._password:\"\")+\"@\"),this.protocol+(this._isRelative?\"//\"+t+this.host:\"\")+this.pathname+this._query+this._fragment},set:function(t){n.call(this),h.call(this,t)},configurable:!0,enumerable:!0},protocol:{get:function(){return this._scheme+\":\"},set:function(t){this._isInvalid||h.call(this,t+\":\",\"scheme start\")},configurable:!0,enumerable:!0},host:{get:function(){return this._isInvalid?\"\":this._port?this._host+\":\"+this._port:this._host},set:function(t){!this._isInvalid&&this._isRelative&&h.call(this,t,\"host\")},configurable:!0,enumerable:!0},hostname:{get:function(){return this._host},set:function(t){!this._isInvalid&&this._isRelative&&h.call(this,t,\"hostname\")},configurable:!0,enumerable:!0},port:{get:function(){return this._port},set:function(t){!this._isInvalid&&this._isRelative&&h.call(this,t,\"port\")},configurable:!0,enumerable:!0},pathname:{get:function(){return this._isInvalid?\"\":this._isRelative?\"/\"+this._path.join(\"/\"):this._schemeData},set:function(t){!this._isInvalid&&this._isRelative&&(this._path=[],h.call(this,t,\"relative path start\"))},configurable:!0,enumerable:!0},search:{get:function(){return this._isInvalid||!this._query||\"?\"==this._query?\"\":this._query},set:function(t){!this._isInvalid&&this._isRelative&&(this._query=\"?\",\"?\"==t[0]&&(t=t.slice(1)),h.call(this,t,\"query\"))},configurable:!0,enumerable:!0},hash:{get:function(){return this._isInvalid||!this._fragment||\"#\"==this._fragment?\"\":this._fragment},set:function(t){this._isInvalid||(this._fragment=\"#\",\"#\"==t[0]&&(t=t.slice(1)),h.call(this,t,\"fragment\"))},configurable:!0,enumerable:!0},origin:{get:function(){var t;if(this._isInvalid||!this._scheme)return\"\";switch(this._scheme){case\"data\":case\"file\":case\"javascript\":case\"mailto\":return\"null\"}return t=this.host,t?this._scheme+\"://\"+t:\"\"},configurable:!0,enumerable:!0}});var d=t.URL;d&&(o.createObjectURL=function(t){return d.createObjectURL.apply(d,arguments)},o.revokeObjectURL=function(t){d.revokeObjectURL(t)}),t.URL=o}}(self)},{}]},{},[1]);"],"file":"url.js","sourceRoot":"/source/"}